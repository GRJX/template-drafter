*Use Case (naam):* RNI Overzicht Genereren Export +
*Actor:* Beheerder Markeerverzoeken +
*Korte omschrijving (gewenste functionaliteit):* Gebruiker selecteert jaar en maand, systeem toont tellingen wijzigingsverzoeken per code (AB, AW, BP, NE, WP).

Gebruiker exporteert overzicht naar PDF of Excel, individueel of gecombineerd.

Gebruiker bekijkt/wijzigt mutatiesoort, toont relevante velden en contactpersoon details.

Systeem toont tellingen verwerkt, niet-verwerkt en extra info per vragenlijst en jaar. +
*Menu-item:* Beheer +
 
=== Samenvatting
==== Korte omschrijving
De gebruiker navigeert naar het beheer menu en selecteert 'Wijzigingsverzoeken RNI' om een overzicht van wijzigingsverzoeken per maand te zien. De gebruiker selecteert een jaartal om de telling van verzoeken per code (AB, AW, BP, NE, WP) per maand te bekijken. Het systeem toont een tabel met de tellingen per maand en code, gebaseerd op de invoerdatum van het verzoek. De gebruiker kan een PDF of Excel export genereren van het overzicht van de totale tellingen per maand. De gebruiker kan een PDF of Excel export genereren van de status (verwerkt, niet verwerkt, extra info) per vragenlijst. Op het detail scherm van een mutatieverzoek wordt de kolomtitel 'Mutatiesoort' gewijzigd in 'Soort wijziging' en het telefoonnummer van de contactpersoon weergegeven. Afhankelijk van de geselecteerde mutatiesoort toont het systeem relevante velden, zoals EU persoonsnummer of adresgegevens buitenland.

==== Actor
Beheerder Markeerverzoeken 

=== Precondities
- De gebruiker heeft een geldige gebruikersaccount met de benodigde rechten voor de beheerfunctie wijzigingsverzoeken RNI +
- De gebruiker heeft toegang tot een internetverbinding en een ondersteunde webbrowser +
- De benodigde databaseverbinding is geconfigureerd en operationeel +
- De database bevat geldige data voor de wijzigingsverzoeken RNI +

=== Flows
==== Basic Flow (BF) of Events
===== BF1: Tabel per vragenlijst met het aantal op status verwerkt, niet verwerkt en extra info
[cols="1,9",options="header"]
| Step | Omschrijving |
|=== | 
| 1 | Gebruiker selecteert het gewenste jaar. |
| 2 | Systeem toont de overzichten van de wijzigingsverzoeken RNI per maand voor het geselecteerde jaar, met tellingen voor verwerkt, niet verwerkt en extra info. |
| 3 | Gebruiker selecteert een specifieke maand. |
| 4 | Systeem toont de gedetailleerde statusoverzichten (verwerkt, niet verwerkt, extra info) voor de geselecteerde maand. |
|=== |

===== BF2: Excel / pdf export voor RNI op status basis
[cols="1,9",options="header"]
| Step | Omschrijving |
|=== |
| 1 | Gebruiker selecteert de optie om het overzicht te exporteren. |
| 2 | Systeem toont opties voor exportformaten (PDF, Excel). |
| 3 | Gebruiker selecteert het gewenste exportformaat. |
| 4 | Systeem genereert de export in het geselecteerde

==== Alternative Flows (AF)
===== AF1: Ongeldige Jaar Selectie
[cols="1,9",options="header"]
|===
| Step | Omschrijving
| 1 | Gebruiker selecteert een jaar in het verleden.
| 2 | Systeem valideert het geselecteerde jaar.
| 3 | Systeem toont een foutmelding indien het jaar buiten de ondersteunde range valt (bijv. voor 1900).
| 4 | Systeem behoudt het standaard (lopende) jaar en toont het overzicht.
|===

===== AF2: Geen Data voor Geselecteerde Maand
[cols="1,9",options="header"]
|===
| Step | Omschrijving
| 1 | Gebruiker selecteert een maand en jaar.
| 2 | Systeem zoekt naar data voor de geselecteerde maand en jaar.
| 3 | Systeem detecteert dat er geen data beschikbaar is voor de geselecteerde maand.
| 4 | Systeem toont een melding: "Geen wijzigingsverzoeken gevonden voor deze maand."
| 5 | Systeem toont een leeg overzicht.
|===

===== AF3: Exporteren naar PDF/Excel Faalt
[cols="1,9",options="header"]
|===

=== Postcondities
==== Succescondities
- De gebruiker kan een overzicht van wijzigingsverzoeken RNI per maand genereren +
- De gebruiker kan het overzicht van de status (verwerkt, niet verwerkt, extra info) per vragenlijst exporteren naar PDF en/of Excel +
- De gebruiker kan een overzicht van het totaal generaal per maand inzien en exporteren +

==== Faalcondities
- De gebruiker kan geen overzicht genereren voor een geselecteerd jaar +
- De gebruiker kan geen PDF/Excel exporteren van het totaal generaal overzicht +
- De gebruiker kan geen overzicht van wijzigingsverzoeken RNI per maand genereren +

=== Controles en regels
===== Systeemregels RNI Overzichten

[cols="1,9",options="header"]
|===
| Referentie systeemregels | Omschrijving
| BR0001 | Gebruiker kan een overzicht genereren van totale wijzigingsverzoeken RNI per maand, gesorteerd op code (AB, AW, BP, NE, WP).
| BR0002 | Het overzicht toont de telling van wijzigingsverzoeken per maand en code, gebaseerd op de datum van invoer.
| BR0003 | Gebruiker kan het jaartal selecteren voor het overzicht (standaard het lopende jaar).
| BR0004 | Het systeem biedt een overzicht van de status (verwerkt, niet verwerkt, extra info) per vragenlijst.
| BR0005 | Gebruiker kan een PDF of Excel export genereren van het totale overzicht per maand.
| BR0006 | Gebruiker kan een PDF of Excel export genereren van het statusoverzicht per vragenlijst.
| BR0007 | De PDF/Excel export kan zowel afzonderlijk als gecombineerd worden gegenereerd.
| BR0008 | Het systeem toont een kolom 'Soort wijziging' in plaats van 'Mutatiesoort'.
| BR0

=== Aanvullende eisen
==== Voorwaarden
- Spring repository wordt gebruikt voor de database layer +
- Data wordt bepaald door de datum van invoer van het wijzigingsverzoek +
- Er wordt gebruik gemaakt van een XML template voor de PDF en Excel export +

==== Logische interfaces (naar andere applicaties)
De gebruiker selecteert een jaar en maand, het systeem toont de telling van RNI wijzigingsverzoeken per code (AB, AW, BP, NE, WP).
Het systeem exporteert overzichten naar PDF of Excel, individueel of gecombineerd.
De gebruiker bekijkt/wijzigt details van mutatiesoorten, inclusief contactpersoon en relevante velden.
Het systeem haalt data uit de database via Spring Repository voor alle overzichten.

=== Logische omschrijving
==== Input- en outputdocumenten
- <input_outputdocumenten> +